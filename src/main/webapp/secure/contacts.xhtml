<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pf="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>

	<meta charset="UTF-8" />
	<title>Reg My Hashtag | Dashboard</title>
	<ui:include page="../include/header-resources-include.jsp" />
</h:head>
<body class="skin-blue">
	<ui:include page="../include/header.jsp" />
	<div class="wrapper row-offcanvas row-offcanvas-left">
		<ui:include page="../include/left.jsp" />

		<!-- Right side column. Contains the navbar and content of the page -->
		<aside class="right-side">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1>
					Dashboard <small>Control panel</small>
				</h1>
				<ol class="breadcrumb">
					<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
					<li class="active">Blank page</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">
				<div class="box">
					<p:dataTable id="ContactsTable" var="contact" value="#{contactsController.hashtagContacts}"
                                 paginator="true" paginatorPosition="bottom" rows="10">
                        
                        
                         <p:column width="100">
                            <f:facet name="header">
                                <h:outputLabel value="Contact Hashtag"/>
                            </f:facet>
                            <h:outputLabel value="#{contact.contactHashtagId.hashtag}"/>
                        </p:column>
                        
                        <p:column width="100">
                            <f:facet name="header">
                                <h:outputLabel value="Contact Name"/>
                            </f:facet>
                            <h:outputLabel value="#{contact.contactHashtagId.ownerFirstName} #{contact.contactHashtagId.ownerLastName}"/>
                        </p:column>
                        
                         <p:column width="100">
                            <f:facet name="header">
                                <h:outputLabel value="Contact Profile Picture"/>
                            </f:facet>
                            <p:graphicImage id="city"
						                    value="#{contactsController.getPictureUrl(contact.contactHashtagId.hashtagId)}"
						                    width="64"
						                    height="64" styleClass="img-circle" cache="false">
						     </p:graphicImage>    
                        </p:column>
                        <p:column width="100">
                            <f:facet name="header">
                                <h:outputLabel value="Added Date"/>
                            </f:facet>
                            <h:outputLabel value="#{contact.addedDate}">
                            	<f:convertDateTime type="date" pattern="MM-dd-yyyy"/>
                            </h:outputLabel>
                        </p:column>
                         <p:column width="100">
                            <p:panelGrid columns="2" styleClass="noBorder">
                            	 <p:commandButton  value="Delete" oncomplete="PF('delDialog').show()"   styleClass="btn btn-danger">
                            	 	<f:setPropertyActionListener value="#{contact}" target="#{contactsController.selected}" />
                            	 </p:commandButton>
                            	 <h:commandButton action="#{loginController.submit}" value="Privacy"  styleClass="btn btn-info"></h:commandButton>
                            </p:panelGrid>
                            <p:dialog header="Delete Confirmation" widgetVar="delDialog" resizable="false" id="delDialog"
	                            showEffect="fade" hideEffect="explode" modal="true" width="300px">
			                    <h:panelGrid id="display" columns="2" cellpadding="4" style="margin:0 auto;">
			
			                        <h:outputText value="Name: #{contactsController.selected != null?contactsController.selected:'N/A'}" />
			                    </h:panelGrid>

   				            </p:dialog> 
                        </p:column>

                    </p:dataTable>
				</div>
			</section>
			<!-- /.content -->
		</aside>
		<!-- /.right-side -->
	</div>
	<!-- ./wrapper -->
	<ui:include page="../include/footer-resources-include.jsp" />

</body>
</html>